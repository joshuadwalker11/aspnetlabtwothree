@page
@model rp_ef_maria.Pages.Games.IndexModel
@inject StoreContext _context

@{
	ViewData["Title"] = "Index";

}

<style>
	#titlesearch {
		border: 2px solid black;
		padding: 2px;
		margin: 2px;
	}

	#datesearch {
		border: 2px solid black;
		padding: 2px;
		margin: 2px;
	}
</style>

<h1>Index</h1>
<form>
	<div id="titlesearch">
		<h3>Seach titles</h3>
		<p>Search Titles: <input type="text" asp-for="Query" /></p>
		<input type="submit" value="Search" />
	</div>

	<div id="datesearch">
		<h3>Search by date:</h3>
		<p>Search By Date: <input type="date" asp-for="DateSearch" /></p>
		<div>
			<label for="dateselector">Before or after selected date:</label>
			<select id="dateselector" asp-for="SelectRange">
				<option value="before">Before (Inclusive)</option>
				<option value="after">After (Exclusive)</option>
			</select>
		</div>
		<p>Toggle Date Filter: On / Off <input type="checkbox" asp-for="FilterOn" /></p>
		<input type="submit" value="Search" />
	</div>
</form>

<p>
	<a asp-page="Create">Create New</a>
</p>


<table class="table">
	<thead>
		<tr>
			<th>
				@Html.DisplayNameFor(model => model.Game[0].Title)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Game[0].ReleaseDate)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Game[0].Genre)
			</th>
			<th>
				@Html.DisplayNameFor(model => model.Game[0].Price)
			</th>
			<th></th>
		</tr>
	</thead>
	<tbody>
		@foreach (var item in Model.Game)
		{
			<tr>
				<td>
					@Html.DisplayFor(modelItem => item.Title)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.ReleaseDate)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Genre)
				</td>
				<td>
					@Html.DisplayFor(modelItem => item.Price)
				</td>
				<td>
					<a asp-page="./Edit" asp-route-id="@item.GameId">Edit</a> |
					<a asp-page="./Details" asp-route-id="@item.GameId">Details</a> |
					<a asp-page="./Delete" asp-route-id="@item.GameId">Delete</a>
				</td>
			</tr>
		}
	</tbody>
</table>
